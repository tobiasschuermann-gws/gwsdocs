<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Electronic invoicing - Mexico </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Electronic invoicing - Mexico ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../../../business-central/gws/images/erpsystemicon.png">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <!-- fontawesome added>>> -->
    <link rel="stylesheet" href="../../../styles/fontawesome.min.css">
    <link rel="stylesheet" href="../../../styles/solid.min.css">
    <!-- <<<fontawesome added -->
    <link rel="stylesheet" href="../../../styles/main.css">
    <!-- ownscript added>>> -->
    <link rel="stylesheet" href="../../../styles/main2.css">
    <!-- <<<ownscript added -->
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../TOC.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <script type="text/javascript">
    var origin = window.location.origin;
    if (window.location.href.indexOf("de-DE") > 0) {
    document.write('<div class="cookie-banner" id="cookie-banner" style="display: none"><p>Um unsere Webseite für Sie optimal zu gestalten und fortlaufend verbessern zu können, verwenden wir Cookies. Durch die weitere Nutzung der Webseite stimmen Sie der Verwendung von Cookies zu.</br>Weitere Informationen zu Cookies erhalten Sie in unserer <a id="privacyPolicy">Datenschutzerklärung</a>.</p><button class="close">OK</button></div>');
    document.getElementById("privacyPolicy").href= origin + "/de-DE/privacyPolicy.html";  
    }
    if (window.location.href.indexOf("en-US") > 0) {
    document.write('<div class="cookie-banner" id="cookie-banner" style="display: none"><p>In order to optimize our website for you and to continuously improve it, we use cookies. By continuing to use the Website, you consent to the use of cookies.</br>For more information about cookies, please see our <a id="privacyPolicy">Privacy Policy</a>.</p><button class="close">OK</button></div>');
    document.getElementById("privacyPolicy").href= origin + "/en-US/privacyPolicy.html";   
    }
    </script>
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../business-central/gws/images/gwslogo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Suche" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Suchergebnisse f&#252;r <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="Erste" data-prev="Vorherige" data-next="N&#228;chste" data-last="Letzte"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Inhaltsverzeichnis ein-/ausblenden</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="electronic-invoicing-in-the-mexican-version">Electronic invoicing in the Mexican version</h1>

<p>Mexican companies must be able to send invoices electronically as Comprobante Fiscal Digital por Internet (CFDI) files. Business Central supports CFDI so that you can export sales and service invoices and credit memos as electronic documents that have the required digital signature.</p>
<div class="NOTE"><h5>Hinweis</h5><p>The tax authority (Servicio de Administración Tributaria) announced a version 4.0 of the online digital tax receipt (comprobante fiscal digital por internet—CFDI) system. After the effective date, you can&#39;t issue vouchers in versions other than 4.0. Accordingly, Business Central updated CFDI feature to align with the new regulations.  </p>
</div>
<p>The CFDI file is an XML file that contains:  </p>
<ul>
<li>Name of issuing company</li>
<li>Fiscal address of issuing company</li>
<li>Tax scheme of the issuing company  </li>
<li>Federal tax registration number (RFC) of issuing company </li>
<li>RFC of the receiving company  </li>
<li>Quantity and description of the goods or services  </li>
<li>Unit price</li>
<li>Tax amounts listed by tax type  </li>
<li>Currency code </li>
<li>Customs location, which includes the date and number of the customs document, if the transaction is an import. </li>
<li>Digital stamp of the issuing company, which is assigned by the tax authorities (SAT). </li>
<li>Digital stamp of an authorized service provider, PAC, that you choose.  </li>
</ul>
<div class="IMPORTANT"><h5>Wichtig</h5><p>You need to submit the electronic invoices to a PAC, which is an authorized service provider appointed by the Mexican tax authorities (SAT). SAT has certified more than one PAC in Mexico, and you must obtain the appropriate information to communicate with the PAC of your choice. By default, Business Central supports integration with <a href="https://interfactura.com/">Interfactura</a>, but you can use another PAC of your choice.  </p>
</div>
<h2 id="get-started">Get started</h2>
<p>Before you can use Business Central for electronic invoicing, you must obtain the appropriate certification, digital stamp, and control numbers from the tax authorities. You must install the certificate on the computer where you generate the CFDI files. For more information, see <a href="how-to-set-up-electronic-invoicing.html">Set Up Electronic Invoicing</a>. For information about SAT certificates and keys, see the <a href="https://go.microsoft.com/fwlink/?LinkId=242772">Servicio de Administracíon Tributaria</a> website.  </p>
<div class="TIP"><h5>Tipp</h5><p>Use the <strong>Set up Mexican CFDI information</strong> assisted setup guide to map information about your company and how you use Business Central to the various fields in the CFDI files.</p>
</div>
<p>You must also specify the web services that you use to communicate with the PAC to obtain digital stamps. For more information, see <a href="how-to-set-up-pac-web-services.html">Set Up PAC Web Services</a>.  </p>
<div class="IMPORTANT"><h5>Wichtig</h5><p>SAT has certified more than one PAC in Mexico, and you must obtain the appropriate information to communicate with the PAC of your choice.  </p>
</div>
<p>You must also specify information about your company and each of your customers and vendors. For more information, see <a href="how-to-set-up-electronic-invoicing.html">Set Up Electronic Invoicing</a>.  </p>
<h2 id="send-electronic-documents">Send electronic documents</h2>
<p>When you post an invoice or credit memo, you can send it to your customer. But first you must obtain a digital stamp from a PAC. Business Central communicates with the PAC through web services to request a stamp, and the document is automatically digitally signed by your company and the PAC.  </p>
<p>When you send an electronic invoice or credit memo to your customer, Business Central uses the email address that you have specified on the <strong>Company Information</strong> page. The document is sent to the email address that you&#39;ve specified on the <strong>Customer Card</strong> page for the bill-to customer on the invoice or credit memo. On the <strong>General Ledger Setup</strong> page, you can also choose to include the documents as PDF files in the email that is sent.  </p>
<div class="IMPORTANT"><h5>Wichtig</h5><p>The users who will send electronic invoices must be able to send mail using the Simple Mail Transfer Protocol (SMTP). Depending on the configuration in your company, you may have to grant explicit permissions to each relevant user and computer.  </p>
</div>
<p>If you also want to print the documents, the documents will include a Quick Response (QR) bar code and other information that identifies the related electronic invoice. This information makes the printed document computer-readable and provides a link between the electronic document and the printed document.  </p>
<p>For more information, see <a href="how-to-generate-electronic-invoices.html">Generate Electronic Invoices</a>.  </p>
<h2 id="cancel-documents">Cancel documents</h2>
<p>Sometimes you may have to revert a transaction, such as if you have to change the location of a shipment for some reason. You may also have to send such cancellations as electronic documents.  </p>
<p>When you send a cancellation, you must specify a reason for the cancellation, and which document substitutes the canceled document.  </p>
<p>The following table provides an overview of the options for the <strong>CFDI Cancellation Reason</strong> field as of February 2022:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td>Voucher issued with errors in relation.</td>
</tr>
<tr>
<td>02</td>
<td>Voucher issued with unrelated errors.</td>
</tr>
<tr>
<td>03</td>
<td>The operation wasn&#39;t carried out.</td>
</tr>
<tr>
<td>04</td>
<td>Related nominative operation in a global invoice.</td>
</tr>
</tbody>
</table>
<p>If you choose code <em>01</em>, then you must also specify the document that substitutes the canceled document in the <strong>Substitution Document No.</strong> field.  </p>
<h3 id="send-a-posted-sales-invoice-for-cancellation">Send a posted sales invoice for cancellation</h3>
<ol>
<li>Open the posted sales invoice that you want to cancel, and then select <strong>Cancel</strong>.  </li>
<li>Select <strong>Cancel Request</strong> and confirm. This action allows you to send the cancellation request to the PAC service and receive a cancellation ID for the document.  </li>
<li>After you receive a successful response from PAC service, the status is updated to <strong>Cancel In Progress</strong>. The cancellation ID is then taken from the response and updated in the document. This step will update the <strong>Date/Time Stamped</strong> field.  </li>
<li>If the error message appears, the status is updated to <strong>Cancel Error</strong>. The error details are shown in the <strong>Error Code</strong> and <strong>Error Description</strong> fields. This step will update the <strong>Date/Time Stamped</strong> field.  </li>
</ol>
<h3 id="send-a-request-to-update-the-status">Send a request to update the status</h3>
<p>The SAT authorities need to process and approve the document that you need to cancel. The information about the status should be requested from the PAC service.  </p>
<p>Use the <strong>Get Response</strong> to check and update the cancellation status from the SAT authorities. </p>
<div class="NOTE"><h5>Hinweis</h5><p>The possible responses <strong>EnProceso</strong>, <strong>Rechazado</strong>, and <strong>Cancelado</strong> update the <strong>Electronic Document Status</strong> field for the next values respectively: <strong>Cancel In Progress</strong>, <strong>Cancel Error</strong>, or <strong>Canceled</strong>. </p>
</div>
<h3 id="manually-cancel-a-posted-sales-invoice">Manually cancel a posted sales invoice</h3>
<p>In some cases, when the document can&#39;t be processed properly due to incorrect reason codes, if it cannot be classified by SAT, or some other reason, you can force cancellation manually. Just select the <strong>Mark as Canceled</strong> action in the menu to manually cancel a posted sales invoice. </p>
<h3 id="e-invoice-status-request-batch">E-Invoice status request batch</h3>
<p>The user can schedule a batch job to process a document with <strong>Electronic Document Status</strong> equals <strong>Cancel Error</strong>, and <strong>Cancel In Progress</strong>.  </p>
<h2 id="communication-component">Communication component</h2>
<p>Technically, the Business Central component for electronic invoicing deploys in a library assembly, Microsoft.Dynamics.NAV.MX.dll, which is included automatically with Business Central. The component handles the communication with the PAC web services and also generates the QR codes that are included in the printed documents.  </p>
<p>When you generate an electronic document to request a stamp, Business Central creates an XML document and sends it to the PAC for processing. The original XML document contains the same information as the original string field that is shown on the printed document. The original string includes the following information:  </p>
<ul>
<li>Document date  </li>
<li>Document type  </li>
<li>Payment terms  </li>
<li>Name, address, and federal registration number of your company  </li>
<li>Name, address, and federal registration number of the customer  </li>
<li>Line amounts and quantities  </li>
</ul>
<p>The PAC returns an XML document that has the original string, but this file also includes a section for the digital stamp. In Business Central, you can export the XML files for documents that have a digital stamp and learn more about the data that goes into each XML element.  </p>
<h2 id="see-also">See also</h2>
<p><a href="how-to-set-up-electronic-invoicing.html">Set Up Electronic Invoicing</a><br><a href="how-to-set-up-pac-web-services.html">Set Up PAC Web Services</a><br><a href="how-to-generate-electronic-invoices.html">Generate Electronic Invoices</a></p>
<p><a href="https://learn.microsoft.com/de-de/training/dynamics365/business-central">Kostenlose E-Learning-Module für Business Central finden Sie hier</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In diesem Artikel</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Zur&#252;ck nach oben</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
