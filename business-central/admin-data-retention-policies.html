<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Daten mit Aufbewahrungsrichtlinien bereinigen </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Daten mit Aufbewahrungsrichtlinien bereinigen ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../business-central/gws/images/erpsystemicon.png">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <!-- fontawesome added>>> -->
    <link rel="stylesheet" href="../styles/fontawesome.min.css">
    <link rel="stylesheet" href="../styles/solid.min.css">
    <!-- <<<fontawesome added -->
    <link rel="stylesheet" href="../styles/main.css">
    <!-- ownscript added>>> -->
    <link rel="stylesheet" href="../styles/main2.css">
    <!-- <<<ownscript added -->
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="TOC.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <script type="text/javascript">
    var origin = window.location.origin;
    if (window.location.href.indexOf("de-DE") > 0) {
    document.write('<div class="cookie-banner" id="cookie-banner" style="display: none"><p>Um unsere Webseite für Sie optimal zu gestalten und fortlaufend verbessern zu können, verwenden wir Cookies. Durch die weitere Nutzung der Webseite stimmen Sie der Verwendung von Cookies zu.</br>Weitere Informationen zu Cookies erhalten Sie in unserer <a id="privacyPolicy">Datenschutzerklärung</a>.</p><button class="close">OK</button></div>');
    document.getElementById("privacyPolicy").href= origin + "/de-DE/privacyPolicy.html";  
    }
    if (window.location.href.indexOf("en-US") > 0) {
    document.write('<div class="cookie-banner" id="cookie-banner" style="display: none"><p>In order to optimize our website for you and to continuously improve it, we use cookies. By continuing to use the Website, you consent to the use of cookies.</br>For more information about cookies, please see our <a id="privacyPolicy">Privacy Policy</a>.</p><button class="close">OK</button></div>');
    document.getElementById("privacyPolicy").href= origin + "/en-US/privacyPolicy.html";   
    }
    </script>
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../business-central/gws/images/gwslogo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Suche" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Suchergebnisse f&#252;r <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="Erste" data-prev="Vorherige" data-next="N&#228;chste" data-last="Letzte"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Inhaltsverzeichnis ein-/ausblenden</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="define-retention-policies">Aufbewahrungsrichtlinien definieren</h1>

<p>Dieser Artikel beschreibt, wie Administrierende Aufbewahrungsrichtlinien definieren können, um festzulegen, wie oft veraltete Daten in Tabellen gelöscht werden sollen, die Protokolleinträge und archivierte Datensätze enthalten. Das Bereinigen von Protokolleinträgen kann beispielsweise das Arbeiten mit relevanteren Daten erleichtern. Richtlinien können Daten basierend auf einem Ablaufdatum löschen, oder Sie können Filter hinzufügen, um nur bestimmte abgelaufene Daten einzubeziehen.</p>
<h2 id="required-setups-and-permissions">Erforderliche Einrichtungen und Berechtigungen</h2>
<p>Bevor Sie Aufbewahrungsrichtlinien erstellen können, müssen Sie die einzubeziehenden Tabellen und die Zeiträume für die Aufbewahrung der Daten festlegen.</p>
<table>
<thead>
<tr>
<th>Einrichten</th>
<th>Beschreibung</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Zulässige Tabellen</strong></td>
<td>Wir stellen eine Liste der Tabellen bereit, die Sie in Aufbewahrungsrichtlinien berücksichtigen können. Wenn Sie Tabellen aus einer Erweiterung zu einer Aufbewahrungsrichtlinie hinzufügen möchten, muss die Entwicklung ihre Tabellen zur Liste hinzufügen. Um mehr zu erfahren, gehen Sie zu <a href="admin-data-retention-policies.html#include-your-extension-in-a-retention-policy-requires-help-from-a-developer">Ihre Erweiterung in eine Aufbewahrungsrichtlinie einbeziehen</a>.</td>
</tr>
<tr>
<td><strong>Aufbewahrungsfristen</strong></td>
<td>Geben Sie Zeiträume für die Aufbewahrung von Daten in den Tabellen in einer Richtlinie an. Die Zeiträume bestimmen, wie häufig Daten gelöscht werden.</td>
</tr>
</tbody>
</table>
<p>Darüber hinaus müssen Sie über die <strong>SUPERUSER</strong>-Berechtigungen oder den Berechtigungssatz zum <strong>Einrichten von Aufbewahrungsrichtlinien</strong> verfügen. Benutzende mit der Berechtigung „Einrichten von Aufbewahrungsrichtlinien“ können Aufbewahrungsrichtlinien für Tabellen festlegen. Das gilt auch dann, wenn sie keine Lese- und Löschberechtigungen für die Tabellen haben. Der Aufgabewarteschlangenposten muss als Benutzer mit Berechtigungen zum Lesen und Löschen der Daten ausgeführt werden. Erteilen Sie den Berechtigungssatz zum Einrichten von Aufbewahrungsrichtlinien nicht an Benutzende, die zum Löschen von Daten berechtigt sein sollen.</p>
<div class="NOTE"><h5>Hinweis</h5><p>Wenn Sie die lokale Version von Business Central verwenden und Aufbewahrungsrichtlinien in der Cronus-Demodatenbank ausprobieren möchten, müssen Sie einige Vorbereitungen treffen. Das Demounternehmen enthält keine Tabellen, die Sie mit Aufbewahrungsrichtlinien verwenden können. Sie müssen diese daher hinzufügen. Erstellen Sie hierzu ein neues, leeres Unternehmen in der Demodatenbank. Importieren Sie im neuen Unternehmen das RapidStart-Konfigurationspaket für Ihr Land/Ihre Region, das dem standardmäßigen NAV17.0.W1.ENU.STANDARD.rapidstart-Paket entspricht. Die Einrichtungsdaten für Aufbewahrungsrichtlinien sind im neuen Unternehmen verfügbar.</p>
</div>
<h3 id="create-retention-periods">Aufbewahrungszeiträume erstellen</h3>
<p>Die Aufbewahrungszeiträume können beliebig lang oder kurz sein. Um Aufbewahrungszeiträume zu erstellen, verwenden Sie auf der Seite <strong>Aufbewahrungsrichtlinien</strong> die Aktion <strong>Aufbewahrungszeitraum</strong>. Die von Ihnen festgelegten Zeiträume sind für alle Richtlinien verfügbar.</p>
<div class="NOTE"><h5>Hinweis</h5><p>Aus Kompatibilitätsgründen haben wir für einige Tabellen einen Mindestaufbewahrungszeitraum festgelegt. Wenn Sie einen Aufbewahrungszeitraum festlegen, der die Mindestdauer unterschreitet, wird in einer Meldung der obligatorische Mindestaufbewahrungszeitraum angezeigt.</p>
</div>
<h3 id="set-up-a-retention-policy">Aufbewahrungsrichtlinie einrichten</h3>
<ol>
<li>Wählen Sie das Symbol <img src="media/ui-search/search_small.png" alt="Glühbirne, die die „Wie möchten Sie weiter verfahren“-Funktion öffnet" title="Sagen Sie mir, was Sie tun möchten"> Symbol. Geben Sie <strong>Aufbewahrungsrichtlinien</strong> ein und wählen Sie den zugehörigen Link.</li>
<li>Geben Sie im Feld <strong>Tabellen-ID</strong> die Tabelle ein, die in der Richtlinie berücksichtigt werden soll.</li>
<li>Geben Sie im Feld <strong>Aufbewahrungszeitraum</strong> an, wie lange die Daten in der Tabelle verbleiben sollen.</li>
<li><p>Optional: Sie können die Richtlinie auf bestimmte Daten in einer Tabelle statt auf alle Datensätze anwenden, indem Sie die Daten für jede Zeile filtern. Die Richtlinie gilt nur für die Datensätze, die die Filter zurückgeben. Um die Filterkriterien anzugeben, deaktivieren Sie den Umschalter <strong>Auf alle Datensätze anwenden</strong>. Das Inforegister <strong>Datensatzaufbewahrungsrichtlinie</strong> wird angezeigt, wo Sie Filterkriterien festlegen können. Weitere Informationen zur Funktionsweise von Filtern finden Sie unter <a href="ui-enter-criteria-filters.html#filtering">Filtern</a>.</p>
<div class="NOTE"><h5>Hinweis</h5><p>Jede Zeile hat ihren eigenen Aufbewahrungszeitraum. Wenn Sie für dieselben Daten unterschiedliche Aufbewahrungszeiträume angeben, wird der längste Zeitraum verwendet. Einige Tabellen enthalten auch Filter, die Sie nicht ändern oder entfernen können. Um Ihnen die Identifizierung dieser Filter zu erleichtern, werden sie in einer helleren Schrift angezeigt.</p>
</div>
</li>
</ol>
<h4 id="video-guidance">Videoanleitung</h4>
<p>Dieses Video zeigt ein Beispiel für die Einrichtung einer Aufbewahrungsrichtlinie.</p>
<div class="embeddedvideo"><iframe src="https://www.microsoft.com/en-us/videoplayer/embed/RW1fLeJ" frameborder="0" allowfullscreen="true"></iframe></div>
<h2 id="apply-retention-policies">Aufbewahrungsrichtlinien anwenden</h2>
<p>Sie können einen Aufgabenwarteschlangenposten zum Anwenden von Aufbewahrungsrichtlinien verwenden, um Daten automatisch zu löschen, oder Sie können Richtlinien manuell anwenden.</p>
<p>Um eine Aufbewahrungsrichtlinie automatisch anzuwenden, erstellen und aktivieren Sie einfach eine Richtlinie. Wenn Sie eine Richtlinie aktivieren, erstellt Business Central einen Aufgabenwarteschlangenposten, der je nach dem angegebenen Aufbewahrungszeitraum angewendet wird. Alle Aufbewahrungsrichtlinien verwenden denselben Aufgabenwarteschlangenposten. Standardmäßig wendet der Aufgabenwarteschlangenposten die Richtlinie jeden Tag um 02:00 Uhr an. Sie können die Standardeinstellung ändern. Wir empfehlen Ihnen jedoch, die Ausführung außerhalb der Geschäftszeiten zu legen. Mehr erfahren Sie unter <a href="admin-job-queues-schedule-tasks.html">Aufgabenwarteschlangen zum Planen von Aufgaben verwenden</a>. </p>
<p>Sie können eine Richtlinie manuell anwenden, indem Sie die Aktion <strong>Manuell anwenden</strong> auf der Seite <strong>Aufbewahrungsrichtlinien</strong> verwenden. Wenn Sie eine Richtlinie immer manuell anwenden möchten, aktivieren Sie die Option <strong>Manuell</strong>. Der Aufgabenwarteschlangenposten ignoriert die Richtlinie, wenn er ausgeführt wird.</p>
<h2 id="view-retention-policy-log-entries">Protokolleinträge für Aufbewahrungsrichtlinien anzeigen</h2>
<p>Sie können Aktivitäten im Zusammenhang mit Aufbewahrungsrichtlinien auf der Seite <strong>Aufbewahrungsrichtlinienprotokoll</strong> anzeigen. Beispielsweise werden Einträge erstellt, wenn eine Richtlinie angewendet wird oder aufgetreten sind.</p>
<h2 id="include-your-extension-in-a-retention-policy-requires-help-from-a-developer">Ihre Erweiterung in eine Aufbewahrungsrichtlinie einbeziehen (erfordert die Unterstützung der Entwicklung)</h2>
<p>Standardmäßig decken die Aufbewahrungsrichtlinien nur Business Central in der von uns bereitgestellten Liste ab. Sie können Standardtabellen aus der Liste entfernen und eigene Tabellen hinzufügen. Das heißt, Sie können keine Tabelle hinzufügen, die Sie nicht selbst erstellt haben. Sie können beispielsweise keine anderen Tabellen von Business Central oder von einer Erweiterung, die Sie gekauft haben, hinzufügen.</p>
<p>Um Ihre Tabellen zur Liste der zulässigen Tabellen hinzuzufügen, muss die Entwicklung Code hinzufügen. Zum Beispiel an die Installer-Codeunit für die Erweiterung (eine Codeunit mit dem Untertyp <em>installieren</em>).</p>
<p>Wenn ein Entwickler eine Tabelle hinzufügt, kann er obligatorische Filter und Standardfilter angeben. Obligatorische Filter können später nicht entfernt oder geändert werden, wenn Sie Tabellen hinzufügen, um eine Aufbewahrungsrichtlinie festzulegen. Die Standardfilter sind lediglich Vorschläge.</p>
<p>Im Folgenden finden Sie Beispiele zum Hinzufügen einer Tabelle zur Liste der zulässigen Tabellen mit und ohne obligatorische Filter oder Standardfilter. Ein komplexeres Beispiel finden Sie in der Codeunit 3999 „Aufb. -Richtl. install. – Basis-App“.</p>
<pre><code class="lang-al"> trigger OnInstallAppPerCompany()
    var
        RetenPolAllowedTables: Codeunit &quot;Reten. Pol. Allowed Tables&quot;;
    begin
        RetenPolAllowedTables.AddAllowedTable(Database::&quot;Retention Policy Log Entry&quot;);
    end;
</code></pre><p>Das folgende Beispiel enthält einen obligatorischen Filter.</p>
<pre><code class="lang-al"> trigger OnInstallAppPerCompany()
    var
        ChangeLogEntry: Record &quot;Change Log Entry&quot;;
        RetenPolAllowedTables: Codeunit &quot;Reten. Pol. Allowed Tables&quot;;
        RetentionPeriod: Enum &quot;Retention Period Enum&quot;;
        RecRef: RecordRef;
        TableFilters: JsonArray;
        Enabled: Boolean;
        Mandatory: Boolean;
    begin
        ChangeLogEntry.Reset();
        ChangeLogEntry.SetFilter(&quot;Field Log Entry Feature&quot;, &#39;%1|%2&#39;, ChangeLogEntry.&quot;Field Log Entry Feature&quot;::&quot;Monitor Sensitive Fields&quot;, ChangeLogEntry.&quot;Field Log Entry Feature&quot;::All);
        RecRef.GetTable(ChangeLogEntry);
        Enabled := true;
        Mandatory := true;
        RetenPolAllowedTables.AddTableFilterToJsonArray(TableFilters, RetentionPeriod::&quot;28 Days&quot;, ChangeLogEntry.FieldNo(SystemCreatedAt), Enabled, Mandatory, RecRef);
        RetenPolAllowedTables.AddAllowedTable(Database::&quot;Change Log Entry&quot;, ChangeLogEntry.FieldNo(SystemCreatedAt), TableFilters);
    end;
</code></pre><p>Nachdem ein Entwickler der Liste Tabellen hinzugefügt hat, kann ein Administrator diese in eine Aufbewahrungsrichtlinie aufnehmen. </p>
<h2 id="see-also">Siehe auch</h2>
<p><a href="https://learn.microsoft.com/de-de/dynamics365/business-central/dev-itpro/administration/telemetry-retention-policy-trace">Analysieren der Trace-Telemetrie von Aufbewahrungsrichtlinien</a><br><a href="across-log-changes.html">Protokollieren von Änderungen in Business Central</a><br><a href="ui-enter-criteria-filters.html#filtering">Filterung</a><br><a href="admin-job-queues-schedule-tasks.html">Verwenden von Aufgabenwarteschlangen für die Aufgabenplanung</a><br><a href="ui-work-product.html">Arbeiten mit Business Central</a>  </p>
<p><a href="https://learn.microsoft.com/de-de/training/dynamics365/business-central">Kostenlose E-Learning-Module für Business Central finden Sie hier</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In diesem Artikel</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Zur&#252;ck nach oben</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
